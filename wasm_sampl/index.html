<html>

<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
  <link rel="stylesheet" type="text/css" href="wasm.css">
</head>

<body>
  <!-- <p id="slidertitle" class="slidertitle">some</p> -->

  <!-- Note the usage of `type=module` here as this is an ES6 module -->

  <canvas id="canvas" width=1000x; height=1000x;></canvas>
  <div class="container">
    <fieldset>
      <legend>Choose pattern parameters:</legend>

      <div>
        <input type="checkbox" id="Reverse" name="Reverse" checked>
        <label for="Reverse">Reverse</label>
      </div>

      <div>
        <input type="checkbox" id="Ball" name="Ball">
        <label for="Ball">Ball</label>
      </div>

      <div>
        <input type="range" id="Arc1Speed" name="Arc1Speed" min="-5" max="5" value="2" step="1">
        <label for="Arc1Speed">Arc 1 Speed</label>
      </div>

      <div>
        <input type="range" id="Arc2Speed" name="Arc2Speed" min="-5" max="5" value="-2" step="1">
        <label for="Arc2Speed">Arc 2 Speed</label>
      </div>

    </fieldset>
    <div id="app"></div>
  </div>

  <script type="module">
    import init, { arcs } from './pkg/wasm_sample.js';

    async function run() {
      await init();

      // make the function available to the browser
      window.arcs = arcs;
      drawArcs();
    }
    run();
  </script>
  <script>
    let iterCount = 1;
    function drawArcs() {
      arcs(
        100,
        iterCount / 100,
        UI_ANGLE_DISPLAYED,
        document.getElementById('Ball').checked,
        document.getElementById('Reverse').checked,
        document.getElementById('Arc1Speed').value,
        document.getElementById('Arc2Speed').value);
      requestAnimationFrame(drawArcs);
      iterCount++;
    }
  </script>

  <script type="text/javascript" src="circularSlider.js"></script>
  <script>
    // slider app options
    const opts = {
      DOMselector: '#app',
      sliders: [
        {
          radius: 40,
          min: 1,
          max: 30,
          step: .01,
          initialValue: 10,
          color: '#d63031',
          displayName: 'Value 3'
        }
      ]
    };
    // instantiate the slider
    const slider = new Slider(opts);
    slider.draw();
  </script>
  <!-- <script>
    const checkboxes = document.getElementsByClassName('checkbox');
    for (const box of checkboxes) {
      box.addEventListener('click', updateDisplay);
    }
  </script> -->
  <!-- <script>
    setInterval(function () {
      document.getElementById("slidertitle").innerHTML = "Pattern Place: ." + UI_ANGLE_DISPLAYED/10;
    }, 100);
  </script> -->
</body>

</html>