<html>

<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
  <script language="javascript" type="text/javascript" src="titleMovement.js"></script>
  <link rel="stylesheet" type="text/css" href="wasm.css">
</head>

<body style="background-color:rgb(12, 12, 12)">
  <!-- <p id="slidertitle" class="slidertitle">some</p> -->

  <!-- Note the usage of `type=module` here as this is an ES6 module -->

  <canvas id="canvas" width=1000x; height=1000x;></canvas>
  <!-- <div id="circularslider" ></div> -->
  <div class="container">
    <div id="titleContainer">
      <object type="image/svg+xml" data="redTitle.svg" id="redlogo" class="title">
        <span>Your browser doesn't support SVG</span>
      </object>
      <object type="image/svg+xml" data="cyanTitle.svg" id="cyanlogo" class="title">
        <span>Your browser doesn't support SVG</span>
      </object>
      <object type="image/svg+xml" data="whiteTitle.svg" id="whitelogo" class="title">
        <span>Your browser doesn't support SVG</span>
      </object>
    </div>
    <fieldset class="options">
      
      <legend class="text">Choose pattern parameters</legend>
      <p>&emsp;</p>
      <div style="display: flex;">
        <div>
          <input type="checkbox" id="Reverse" name="Reverse">
          <span class="text" title="Makes inner arcs spin faster than outer">Reverse</span>
        </div>
        <p>&emsp;</p>
        <div>
          <input type="checkbox" id="Ball" name="Ball">
          <span class="text" title="Fixes arc end point to the top and bottom of the screen">Ball</span>
        </div>
        <!-- <p>&emsp;</p>
            <div>
              <input type="checkbox" id="ColorShift" name="ColorShift">
              <span class="text" title="Continuously changes color of pattern">Color Shift</span>
            </div> -->
      </div>
      <p>&emsp;</p>

      <p class="text">Pattern Settings</p>

      <p>&emsp;</p>


      <div>
        <input type="range" id="TotalArcs" name="TotalArcs" min="1" max="250" value="100" step="1">
        <input class="text" type="number" id="ArcCount" name="ArcCount" value="100" style="width:100px;">
        <label class="text" for="TotalArcs">How many Arcs?</label>
      </div>
      <div>
        <input type="range" id="Arc1Speed" name="Arc1Speed" min="-16" max="16" value="2" step="2">
        <input class="text" type="number" id="Arc1Num" name="Arc1Num" value="2" style="width:100px;">
        <label class="text" for="Arc1Speed">Angle one Speed</label>
      </div>
      <div>
        <input type="range" id="Arc2Speed" name="Arc2Speed" min="-16" max="16" value="-2" step="2">
        <input class="text" type="number" id="Arc2Num" name="Arc2Num" value="-2" style="width:100px;">
        <label class="text" for="Arc2Speed">Angle two Speed</label>
      </div>

      <p>&emsp;</p>
      <p class="text">Color Settings</p>
      <p>&emsp;</p>

      <div>
        <input type="range" id="ColorGradient" name="ColorGradient" min="1" max="720" value="230" step="1">
        <input class="text" type="number" id="ColorGradientNum" name="ColorGradientNum" value="230"
          style="width:100px;">
        <label class="text" for="ColorGradient">Color Change</label>
      </div>
      <div>
        <input type="range" id="ColorShift" name="ColorShift" min="0" max="360" value="240" step="1">
        <input class="text" type="number" id="ColorShiftNum" name="ColorShiftNum" value="240" style="width:100px;">
        <label class="text" for="ColorShift">Starting Color</label>
      </div>
      <div>
        <input type="range" id="PulseColor" name="PulseColor" min="0" max="10" value="0" step=".1">
        <input class="text" type="number" id="PulseColorNum" name="PulseColorNum" value="0" style="width:100px;">
        <label class="text" for="PulseColor">Gradient Pulse</label>
      </div>

      <p>&emsp;</p>

  </div>






  </fieldset>
  </div>

  <script id="link slider and number">
    let rangeID = ['Arc1Speed', 'Arc2Speed', 'TotalArcs', 'ColorGradient', 'ColorShift', 'PulseColor']
    let fieldID = ['Arc1Num', 'Arc2Num', 'ArcCount', 'ColorGradientNum', 'ColorShiftNum', 'PulseColorNum']
    for (let i = 0; i < rangeID.length; i++) {
      addListeners(rangeID[i], fieldID[i])
    }
    function addListeners(rangeName, numName) {
      var range = document.getElementById(rangeName);
      var field = document.getElementById(numName);
      range.addEventListener('input', function (e) {
        field.value = e.target.value;
      });
      field.addEventListener('input', function (e) {
        range.value = e.target.value;
      });
    }
  </script>

  <script type="module">
    import init, { arcs } from './pkg/wasm_sample.js';

    async function run() {
      await init();

      // make the function available to the browser
      window.arcs = arcs;
      drawArcs();
    }
    run();
  </script>
  <script>
    let frameCount = 1;
    function drawArcs() {
      arcs(
        frameCount,
        document.getElementById('ArcCount').value,
        document.getElementById('Ball').checked,
        document.getElementById('Reverse').checked,
        document.getElementById('Arc1Num').value,
        document.getElementById('Arc2Num').value,
        document.getElementById('ColorGradientNum').value,
        document.getElementById('ColorShiftNum').value,
        document.getElementById('PulseColorNum').value,);
      requestAnimationFrame(drawArcs);
      frameCount++;
    }
    function resizeSlider() {
    }
  </script>

</body>

</html>